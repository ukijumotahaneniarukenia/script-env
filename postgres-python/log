Sending build context to Docker daemon   25.6kB
Step 1/12 : FROM ubuntu:16.04
 ---> c6a43cd4801e
Step 2/12 : RUN apt-get update && apt-get -y upgrade && apt-get install -y vim gcc make && apt-get install -y libffi-dev curl build-essential libssl-dev zlib1g-dev libreadline6-dev
 ---> Using cache
 ---> cf442b46ff6f
Step 3/12 : RUN cd /usr/local/src && curl -LO https://www.python.org/ftp/python/3.7.4/Python-3.7.4.tgz && tar xvf Python-3.7.4.tgz && cd Python-3.7.4 && ./configure --enable-shared --with-ensurepip=install && make -j12 && make -j12 install
 ---> Using cache
 ---> 7961384a3922
Step 4/12 : RUN echo 'export LD_LIBRARY_PATH=/usr/local/lib' >> ~/.bashrc && . ~/.bashrc
 ---> Using cache
 ---> 2498a2b73dc0
Step 5/12 : RUN echo '/usr/local/lib'>>/etc/ld.so.conf.d/local-ld.so.conf
 ---> Using cache
 ---> b1cb5111db61
Step 6/12 : RUN ldconfig
 ---> Using cache
 ---> 02b06027f27c
Step 7/12 : RUN cd /usr/local/src && curl -LO https://ftp.postgresql.org/pub/source/v12.0/postgresql-12.0.tar.gz && tar xvf postgresql-12.0.tar.gz && chown -R root:root postgresql-12.0 && cd postgresql-12.0 && ./configure --prefix=/usr/local --libdir=/usr/local/lib/postgresql --with-python && make -j12 && make -j12 install
 ---> Using cache
 ---> 1c41a932b07b
Step 8/12 : RUN groupadd -g 1001 postgres && useradd -m -g postgres -u 1001 postgres && echo 'postgres:postgres_pwd' | chpasswd && echo 'postgres ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers && chsh -s /bin/bash postgres
 ---> Running in 7a86ddf4fbf3
Removing intermediate container 7a86ddf4fbf3
 ---> d86101963a95
Step 9/12 : RUN echo 'root:root_pwd' | chpasswd
 ---> Running in 2b3f456e5cd8
Removing intermediate container 2b3f456e5cd8
 ---> 01005fefb98c
Step 10/12 : USER postgres
 ---> Running in 9abcfe94f4d3
Removing intermediate container 9abcfe94f4d3
 ---> c8f460af1bef
Step 11/12 : RUN echo 'export LD_LIBRARY_PATH=/usr/local/lib' >> ~/.bashrc && . ~/.bashrc
 ---> Running in 784620b1fc8f
Removing intermediate container 784620b1fc8f
 ---> 151ea423dac7
Step 12/12 : WORKDIR /home/postgres
 ---> Running in f4860a1b9ffc
Removing intermediate container f4860a1b9ffc
 ---> 07f10c3676c5
Successfully built 07f10c3676c5
Successfully tagged centos_postgres-python:latest
