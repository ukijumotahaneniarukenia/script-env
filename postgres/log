Sending build context to Docker daemon  748.5kB
Step 1/55 : FROM centos:7.6.1810
 ---> f1cb7c7d58b7
Step 2/55 : RUN groupadd -g 1001 rstudio
 ---> Using cache
 ---> 4e2685b803bb
Step 3/55 : RUN useradd -m -g rstudio -u 1001 rstudio
 ---> Using cache
 ---> 65d12cf1525e
Step 4/55 : RUN adduser postgres
 ---> Using cache
 ---> 488c4fab8639
Step 5/55 : RUN chsh -s /bin/bash rstudio
 ---> Using cache
 ---> 7a2c9d24e303
Step 6/55 : RUN chsh -s /bin/bash postgres
 ---> Using cache
 ---> 38f549220b8d
Step 7/55 : RUN echo 'root_pwd' | passwd --stdin root
 ---> Using cache
 ---> 98c4577caddd
Step 8/55 : RUN echo 'rstudio_pwd' | passwd --stdin rstudio
 ---> Using cache
 ---> 7985c7aa4466
Step 9/55 : RUN echo 'postgres_pwd' | passwd --stdin postgres
 ---> Using cache
 ---> a7b6dfe6a433
Step 10/55 : RUN echo 'rstudio ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers
 ---> Using cache
 ---> 3045f79d0658
Step 11/55 : RUN echo 'postgres ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers
 ---> Using cache
 ---> 8dc263b10497
Step 12/55 : RUN yum install -y epel-release
 ---> Using cache
 ---> b8bedc1e1854
Step 13/55 : RUN yum install -y R
 ---> Using cache
 ---> 96736911c960
Step 14/55 : RUN yum install -y sudo zlib-devel libffi-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel libuuid-devel xz-devel openssl libssl-dev libbz2-dev libreadline-dev libsqlite3-dev libffi-devpandoc nkf iputils net-tools iproute tree lsof traceroute psmisc bind-utils git make expect openssh-server openssh-clients gcc parallel man
 ---> Using cache
 ---> 78b530114a5d
Step 15/55 : RUN yum -y install https://download.postgresql.org/pub/repos/yum/reporpms/EL-7-x86_64/pgdg-redhat-repo-latest.noarch.rpm
 ---> Using cache
 ---> 27eeafbcfba4
Step 16/55 : RUN yum -y install epel-release
 ---> Using cache
 ---> 07045eb92b03
Step 17/55 : RUN yum -y install pgadmin4
 ---> Using cache
 ---> 6d75ef2b8f47
Step 18/55 : RUN echo "SERVER_MODE = True" >> /usr/lib/python2.7/site-packages/pgadmin4-web/config_local.py
 ---> Using cache
 ---> 0b37d734ff23
Step 19/55 : RUN echo "DEFAULT_SERVER = '0.0.0.0'" >> /usr/lib/python2.7/site-packages/pgadmin4-web/config_local.py
 ---> Using cache
 ---> a8bcc339ca14
Step 20/55 : RUN echo "LOG_FILE = '/var/log/pgadmin4/pgadmin4.log'" >> /usr/lib/python2.7/site-packages/pgadmin4-web/config_local.py
 ---> Using cache
 ---> 2cdaf6b1838d
Step 21/55 : RUN yum -y install postgresql11-server
 ---> Using cache
 ---> 1dc886ac673b
Step 22/55 : RUN yum install -y which perl-App-cpanminus wxGTK-devel perl-ExtUtils-Embed perl-File-HomeDir perl-Term-ReadLine-Gnu wxGTK3 cpan
 ---> Using cache
 ---> 91b0cb883c05
Step 23/55 : RUN cd ~ && git clone https://github.com/usp-engineers-community/Open-usp-Tukubai.git && cd Open-usp-Tukubai && make -j12 install
 ---> Using cache
 ---> 9e5e3da48591
Step 24/55 : RUN cd ~ && curl -LO ftp://ftp.gnu.org/gnu/gawk/gawk-5.0.0.tar.gz && tar -zxvf gawk-5.0.0.tar.gz && cd gawk-5.0.0 && ./configure && make -j12 && make -j12 install
 ---> Using cache
 ---> a70b17f9a3eb
Step 25/55 : RUN cd ~ && curl -LO ftp://ftp.gnu.org/pub/gnu/bash/bash-5.0.tar.gz && tar -zxvf bash-5.0.tar.gz && cd bash-5.0 && ./configure && make -j12 && make -j12 install
 ---> Using cache
 ---> 5a34c12867b1
Step 26/55 : RUN yum install -y gtk2-devel atk-devel libX11-devel libXt-devel ncurses-devel && cd ~ && git clone https://github.com/vim/vim.git && cd vim && ./configure --enable-multibyte --with-features=huge --enable-cscope --enable-gui=gtk2 --disable-selinux --prefix=/usr/local --enable-xim --enable-fontset --enable-gpm --enable-rubyinterp --with-python-config-dir=/usr/lib/python2.7/config && make -j12 distclean && make -j12 && make -j12 install && ln -fsr /usr/local/bin/vim /usr/bin/vim && ln -fsr /usr/local/bin/vim /usr/bin/vi
 ---> Using cache
 ---> 18f20ac2acd4
Step 27/55 : RUN git clone https://github.com/ukijumotahaneniarukenia/.vim.git ~/.vim
 ---> Using cache
 ---> 77c6acb05870
Step 28/55 : RUN git clone https://github.com/ukijumotahaneniarukenia/dotfile.git ~/tmp && cd ~/tmp && mv rc/.[^.]* ~ && rm -rf ~/tmp
 ---> Using cache
 ---> 25d484394dad
Step 29/55 : RUN mkdir -p ~/.vim/bundle && cd ~ && curl https://raw.githubusercontent.com/Shougo/dein.vim/master/bin/installer.sh > installer.sh && sh installer.sh ~/.vim/bundle
 ---> Using cache
 ---> cc6761efb17c
Step 30/55 : RUN cd ~ && curl -LO https://www.python.org/ftp/python/3.7.4/Python-3.7.4.tgz && tar -zxvf Python-3.7.4.tgz && cd Python-3.7.4 && ./configure && make -j12 && make -j12 install
 ---> Using cache
 ---> 52c6fd15efee
Step 31/55 : RUN cd ~ && curl -LO https://www.cpan.org/src/5.0/perl-5.30.0.tar.gz && tar -xzf perl-5.30.0.tar.gz && cd perl-5.30.0 && ./Configure -des -Dprefix=/usr/local/ && make -j12 && make -j12 install
 ---> Using cache
 ---> c16dd396d58a
Step 32/55 : RUN cd ~ && yum install -y bzip2 && curl -LO http://ftp.gnu.org/gnu/parallel/parallel-latest.tar.bz2 && tar jxf parallel-latest.tar.bz2 && cd parallel-20190922 && ./configure && make -j12 && make -j12 install
 ---> Using cache
 ---> b0a0e31e6533
Step 33/55 : RUN echo alias python="/usr/local/bin/python3.7" >> ~/.bashrc && echo alias pip="/usr/local/bin/pip3.7" >> ~/.bashrc && echo alias perl="/usr/local/bin/perl5.30.0" >> ~/.bashrc && echo "alias parallel=\"/usr/local/bin/parallel\"" >> ~/.bashrc && echo export PATH=$PATH:/usr/pgsql-11/bin >> ~/.bashrc && echo export PGSETUP_INITDB_OPTIONS="-E UTF8 --locale=C"
 ---> Using cache
 ---> 7a61698006fc
Step 34/55 : USER rstudio
 ---> Using cache
 ---> 6923bde182db
Step 35/55 : RUN git clone https://github.com/ukijumotahaneniarukenia/.vim.git ~/.vim
 ---> Using cache
 ---> 9736ec69aaaf
Step 36/55 : RUN git clone https://github.com/ukijumotahaneniarukenia/dotfile.git ~/tmp && cd ~/tmp && mv rc/.[^.]* ~ && rm -rf ~/tmp
 ---> Using cache
 ---> 2b7902c4a59c
Step 37/55 : RUN mkdir -p ~/.vim/bundle && cd ~ && curl https://raw.githubusercontent.com/Shougo/dein.vim/master/bin/installer.sh > installer.sh && sh installer.sh ~/.vim/bundle
 ---> Using cache
 ---> 600eccb754dc
Step 38/55 : RUN echo alias python="/usr/local/bin/python3.7" >> ~/.bashrc && echo alias pip="/usr/local/bin/pip3.7" >> ~/.bashrc && echo alias perl="/usr/local/bin/perl5.30.0" >> ~/.bashrc && echo "alias parallel=\"/usr/local/bin/parallel\"" >> ~/.bashrc && echo "alias vim=\"sudo vim\"" >> ~/.bashrc && echo "alias vi=\"sudo vim\"" >> ~/.bashrc && echo export PATH=$PATH:/usr/pgsql-11/bin >> ~/.bashrc && echo export PGSETUP_INITDB_OPTIONS="-E UTF8 --locale=C"
 ---> Using cache
 ---> fb9c41111ccd
Step 39/55 : USER postgres
 ---> Using cache
 ---> 4d26ef997a2c
Step 40/55 : RUN git clone https://github.com/ukijumotahaneniarukenia/.vim.git ~/.vim
 ---> Using cache
 ---> 3e8d8da96d3d
Step 41/55 : RUN git clone https://github.com/ukijumotahaneniarukenia/dotfile.git ~/tmp && cd ~/tmp && mv rc/.[^.]* ~ && rm -rf ~/tmp
 ---> Using cache
 ---> a296e976b10b
Step 42/55 : RUN mkdir -p ~/.vim/bundle && cd ~ && curl https://raw.githubusercontent.com/Shougo/dein.vim/master/bin/installer.sh > installer.sh && sh installer.sh ~/.vim/bundle
 ---> Using cache
 ---> 01911d49106c
Step 43/55 : RUN cd ~ && curl -LO http://www.postgresqltutorial.com/wp-content/uploads/2019/05/dvdrental.zip
 ---> Using cache
 ---> 26f7f473b0ae
Step 44/55 : RUN cd ~ && sudo yum install -y unzip && unzip dvdrental.zip
 ---> Using cache
 ---> 5e9c3f1d262d
Step 45/55 : RUN echo alias python="/usr/local/bin/python3.7" >> ~/.bashrc && echo alias pip="/usr/local/bin/pip3.7" >> ~/.bashrc && echo alias perl="/usr/local/bin/perl5.30.0" >> ~/.bashrc && echo "alias parallel=\"/usr/local/bin/parallel\"" >> ~/.bashrc && echo "alias vim=\"sudo vim\"" >> ~/.bashrc && echo "alias vi=\"sudo vim\"" >> ~/.bashrc && echo export PATH=$PATH:/usr/pgsql-11/bin >> ~/.bashrc && echo export PGSETUP_INITDB_OPTIONS="-E UTF8 --locale=C"
 ---> Using cache
 ---> b2d2972d2884
Step 46/55 : USER root
 ---> Using cache
 ---> 2595c27dc9bb
Step 47/55 : RUN yum -y reinstall glibc-common
 ---> Using cache
 ---> 6551f3720978
Step 48/55 : RUN localedef -v -c -i ja_JP -f UTF-8 ja_JP.UTF-8; echo "";
 ---> Using cache
 ---> ca15ed35b156
Step 49/55 : ENV LANG=ja_JP.UTF-8
 ---> Using cache
 ---> d40a8b5ff60b
Step 50/55 : RUN rm -f /etc/localtime
 ---> Using cache
 ---> 1da2dd2b6ad8
Step 51/55 : RUN ln -fs /usr/share/zoneinfo/Asia/Tokyo /etc/localtime
 ---> Using cache
 ---> 29872bb8175f
Step 52/55 : EXPOSE 22
 ---> Using cache
 ---> 3ebe5ed192a4
Step 53/55 : EXPOSE 8787
 ---> Using cache
 ---> 233ed5813dd5
Step 54/55 : EXPOSE 5432
 ---> Using cache
 ---> 6dc2840ac1fd
Step 55/55 : EXPOSE 5050
 ---> Using cache
 ---> 7f2b7f2fa7cf
Successfully built 7f2b7f2fa7cf
Successfully tagged centos_postgres:latest
