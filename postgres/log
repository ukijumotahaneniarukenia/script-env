Sending build context to Docker daemon  157.8MB
Step 1/58 : FROM centos:7.6.1810
 ---> f1cb7c7d58b7
Step 2/58 : RUN groupadd -g 1001 rstudio
 ---> Using cache
 ---> 844951ac7957
Step 3/58 : RUN useradd -m -g rstudio -u 1001 rstudio
 ---> Using cache
 ---> f1ebfb6e4271
Step 4/58 : RUN adduser postgres
 ---> Using cache
 ---> e22a33618983
Step 5/58 : RUN chsh -s /bin/bash rstudio
 ---> Using cache
 ---> 14b20ce4960e
Step 6/58 : RUN chsh -s /bin/bash postgres
 ---> Using cache
 ---> 7a5dc2a729ec
Step 7/58 : RUN echo 'root_pwd' | passwd --stdin root
 ---> Using cache
 ---> 9cafa9222a28
Step 8/58 : RUN echo 'rstudio_pwd' | passwd --stdin rstudio
 ---> Using cache
 ---> f86742013a72
Step 9/58 : RUN echo 'postgres_pwd' | passwd --stdin postgres
 ---> Using cache
 ---> ba0654c72818
Step 10/58 : RUN echo 'rstudio ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers
 ---> Using cache
 ---> 35829bfb545f
Step 11/58 : RUN echo 'postgres ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers
 ---> Using cache
 ---> 7e7f08131cdd
Step 12/58 : RUN yum -y install https://download.postgresql.org/pub/repos/yum/reporpms/EL-7-x86_64/pgdg-redhat-repo-latest.noarch.rpm
 ---> Using cache
 ---> b41e13886748
Step 13/58 : RUN yum -y install epel-release
 ---> Using cache
 ---> c8b70ffdf1e5
Step 14/58 : RUN yum install -y R
 ---> Using cache
 ---> 845446ec9e30
Step 15/58 : RUN yum install -y sudo zlib-devel libffi-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel libuuid-devel xz-devel openssl libssl-dev libbz2-dev libreadline-dev libsqlite3-dev libffi-devpandoc nkf iputils net-tools iproute tree lsof traceroute psmisc bind-utils git make expect openssh-server openssh-clients gcc parallel man
 ---> Using cache
 ---> b4279334e60f
Step 16/58 : RUN yum -y install pgadmin4
 ---> Using cache
 ---> bd07f908bd74
Step 17/58 : RUN echo "SERVER_MODE = True" >> /usr/lib/python2.7/site-packages/pgadmin4-web/config_local.py
 ---> Using cache
 ---> cc499dafe8d0
Step 18/58 : RUN echo "DEFAULT_SERVER = '0.0.0.0'" >> /usr/lib/python2.7/site-packages/pgadmin4-web/config_local.py
 ---> Using cache
 ---> 89139067b213
Step 19/58 : RUN echo "LOG_FILE = '/var/log/pgadmin4/pgadmin4.log'" >> /usr/lib/python2.7/site-packages/pgadmin4-web/config_local.py
 ---> Using cache
 ---> 52a92f4a0699
Step 20/58 : RUN yum -y install postgresql11-server
 ---> Using cache
 ---> e051d49711a9
Step 21/58 : RUN yum install -y which perl-App-cpanminus wxGTK-devel perl-ExtUtils-Embed perl-File-HomeDir perl-Term-ReadLine-Gnu wxGTK3 cpan
 ---> Using cache
 ---> 221be9d7c9fb
Step 22/58 : RUN cd ~ && git clone https://github.com/usp-engineers-community/Open-usp-Tukubai.git && cd Open-usp-Tukubai && make -j12 install
 ---> Using cache
 ---> b6b4728c2c18
Step 23/58 : RUN cd ~ && curl -LO ftp://ftp.gnu.org/gnu/gawk/gawk-5.0.0.tar.gz && tar -zxvf gawk-5.0.0.tar.gz && cd gawk-5.0.0 && ./configure && make -j12 && make -j12 install
 ---> Using cache
 ---> 0a5f161685de
Step 24/58 : RUN cd ~ && curl -LO ftp://ftp.gnu.org/pub/gnu/bash/bash-5.0.tar.gz && tar -zxvf bash-5.0.tar.gz && cd bash-5.0 && ./configure && make -j12 && make -j12 install
 ---> Using cache
 ---> 330ac0e5ee87
Step 25/58 : RUN yum install -y sudo gcc git gtk2-devel atk-devel libX11-devel libXt-devel ncurses-devel && cd ~ && git clone https://github.com/vim/vim.git && cd vim && ./configure --enable-multibyte --with-features=huge --enable-cscope --enable-gui=gtk2 --disable-selinux --prefix=/usr/local --enable-xim --enable-fontset --enable-gpm --enable-rubyinterp --with-python-config-dir=/usr/lib/python2.7/config && make -j12 distclean && make -j12 && make -j12 install && ln -fsr /usr/local/bin/vim /usr/bin/vim && ln -fsr /usr/local/bin/vim /usr/bin/vi
 ---> Using cache
 ---> 8d7e1f31425b
Step 26/58 : RUN git clone https://github.com/ukijumotahaneniarukenia/.vim.git ~/.vim
 ---> Using cache
 ---> b53c25e9fc1d
Step 27/58 : RUN git clone https://github.com/ukijumotahaneniarukenia/dotfile.git ~/tmp && cd ~/tmp && mv rc/.[^.]* ~ && rm -rf ~/tmp
 ---> Using cache
 ---> 957b94e37017
Step 28/58 : RUN mkdir -p ~/.vim/bundle && cd ~ && curl https://raw.githubusercontent.com/Shougo/dein.vim/master/bin/installer.sh > installer.sh && sh installer.sh ~/.vim/bundle && rm -rf installer.sh
 ---> Using cache
 ---> 1bada1627afc
Step 29/58 : RUN cd ~ && curl -LO https://www.python.org/ftp/python/3.7.4/Python-3.7.4.tgz && tar -zxvf Python-3.7.4.tgz && cd Python-3.7.4 && ./configure && make -j12 && make -j12 install
 ---> Using cache
 ---> 0ff9b15cee90
Step 30/58 : RUN cd ~ && curl -LO https://www.cpan.org/src/5.0/perl-5.30.0.tar.gz && tar -xzf perl-5.30.0.tar.gz && cd perl-5.30.0 && ./Configure -des -Dprefix=/usr/local/ && make -j12 && make -j12 install
 ---> Using cache
 ---> e15716939c32
Step 31/58 : RUN cd ~ && yum install -y bzip2 && curl -LO http://ftp.gnu.org/gnu/parallel/parallel-latest.tar.bz2 && tar jxf parallel-latest.tar.bz2 && cd parallel-20190922 && ./configure && make -j12 && make -j12 install
 ---> Using cache
 ---> 68c758ede08e
Step 32/58 : RUN echo alias python="/usr/local/bin/python3.7" >> ~/.bashrc && echo alias pip="/usr/local/bin/pip3.7" >> ~/.bashrc && echo alias perl="/usr/local/bin/perl5.30.0" >> ~/.bashrc && echo "alias parallel=\"/usr/local/bin/parallel\"" >> ~/.bashrc
 ---> Using cache
 ---> 234aaaa96da5
Step 33/58 : USER postgres
 ---> Using cache
 ---> 631578a27faf
Step 34/58 : RUN git clone https://github.com/ukijumotahaneniarukenia/.vim.git ~/.vim
 ---> Using cache
 ---> eae4a10da179
Step 35/58 : RUN git clone https://github.com/ukijumotahaneniarukenia/dotfile.git ~/tmp && cd ~/tmp && mv rc/.[^.]* ~ && rm -rf ~/tmp
 ---> Using cache
 ---> 4f502e02bf31
Step 36/58 : RUN mkdir -p ~/.vim/bundle && cd ~ && curl https://raw.githubusercontent.com/Shougo/dein.vim/master/bin/installer.sh > installer.sh && sh installer.sh ~/.vim/bundle && rm -rf installer.sh
 ---> Using cache
 ---> b8961ae1cddb
Step 37/58 : RUN cd ~ && curl -LO http://www.postgresqltutorial.com/wp-content/uploads/2019/05/dvdrental.zip
 ---> Using cache
 ---> 9cecb58187fa
Step 38/58 : RUN cd ~ && sudo yum install -y unzip && unzip dvdrental.zip
 ---> Using cache
 ---> 356f6a18e695
Step 39/58 : RUN echo alias python="/usr/local/bin/python3.7" >> ~/.bashrc && echo alias pip="/usr/local/bin/pip3.7" >> ~/.bashrc && echo alias perl="/usr/local/bin/perl5.30.0" >> ~/.bashrc && echo "alias parallel=\"/usr/local/bin/parallel\"" >> ~/.bashrc && echo "alias vim=\"sudo vim\"" >> ~/.bashrc && echo "alias vi=\"sudo vim\"" >> ~/.bashrc && echo export PATH=$PATH:/usr/pgsql-11/bin >> ~/.bashrc && echo export PGSETUP_INITDB_OPTIONS="-E UTF8 --locale=C"
 ---> Using cache
 ---> a7b39831056e
Step 40/58 : USER rstudio
 ---> Using cache
 ---> 88ffcd1605e4
Step 41/58 : RUN git clone https://github.com/ukijumotahaneniarukenia/.vim.git ~/.vim
 ---> Using cache
 ---> 756321d490bd
Step 42/58 : RUN git clone https://github.com/ukijumotahaneniarukenia/dotfile.git ~/tmp && cd ~/tmp && mv rc/.[^.]* ~ && rm -rf ~/tmp
 ---> Using cache
 ---> d2b7a0b713c8
Step 43/58 : RUN mkdir -p ~/.vim/bundle && cd ~ && curl https://raw.githubusercontent.com/Shougo/dein.vim/master/bin/installer.sh > installer.sh && sh installer.sh ~/.vim/bundle && rm -rf installer.sh
 ---> Using cache
 ---> 13179b8ee795
Step 44/58 : RUN echo alias python="/usr/local/bin/python3.7" >> ~/.bashrc && echo alias pip="/usr/local/bin/pip3.7" >> ~/.bashrc && echo alias perl="/usr/local/bin/perl5.30.0" >> ~/.bashrc && echo "alias parallel=\"/usr/local/bin/parallel\"" >> ~/.bashrc && echo "alias vim=\"sudo vim\"" >> ~/.bashrc && echo "alias vi=\"sudo vim\"" >> ~/.bashrc
 ---> Using cache
 ---> d1ae78cc5158
Step 45/58 : USER root
 ---> Using cache
 ---> 839da759407b
Step 46/58 : RUN yum -y reinstall glibc-common
 ---> Using cache
 ---> da8b4c1daece
Step 47/58 : RUN localedef -v -c -i ja_JP -f UTF-8 ja_JP.UTF-8; echo "";
 ---> Using cache
 ---> 73328333bc0c
Step 48/58 : ENV LANG=ja_JP.UTF-8
 ---> Using cache
 ---> 4a11d5d4823b
Step 49/58 : RUN rm -f /etc/localtime
 ---> Using cache
 ---> f0dbed1b6dac
Step 50/58 : RUN ln -fs /usr/share/zoneinfo/Asia/Tokyo /etc/localtime
 ---> Using cache
 ---> a9cb498eaac1
Step 51/58 : RUN yum install -y initscripts
 ---> Using cache
 ---> 886e3b9d5db9
Step 52/58 : RUN yum install -y --nogpgcheck https://s3.amazonaws.com/rstudio-ide-build/server/centos6/x86_64/rstudio-server-rhel-1.2.1568-x86_64.rpm
 ---> Using cache
 ---> 6841b0481a04
Step 53/58 : COPY postgresql-11.5 /home/postgres/postgresql-11.5
 ---> ef72f3fb7549
Step 54/58 : EXPOSE 22
 ---> Running in d8f405ce592c
Removing intermediate container d8f405ce592c
 ---> d3e1516b6819
Step 55/58 : EXPOSE 5432
 ---> Running in b64b6f329e41
Removing intermediate container b64b6f329e41
 ---> 1ccb3030c24c
Step 56/58 : EXPOSE 5050
 ---> Running in 3013797e6282
Removing intermediate container 3013797e6282
 ---> ef5c28c0e20b
Step 57/58 : USER postgres
 ---> Running in cbc927a3b5df
Removing intermediate container cbc927a3b5df
 ---> 9c000d4c930a
Step 58/58 : WORKDIR /home/postgres
 ---> Running in ce6649045d9c
Removing intermediate container ce6649045d9c
 ---> 485356199f08
Successfully built 485356199f08
Successfully tagged centos_postgres:latest
