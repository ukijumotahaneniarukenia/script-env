Sending build context to Docker daemon  1.418MB
Step 1/38 : FROM centos:latest
 ---> 67fa590cfc1c
Step 2/38 : RUN groupadd -g 1001 rstudio
 ---> Using cache
 ---> 8a05fc9fdd96
Step 3/38 : RUN useradd -m -g rstudio -u 1001 rstudio
 ---> Using cache
 ---> 180177997f68
Step 4/38 : RUN chsh -s /bin/bash rstudio
 ---> Using cache
 ---> 456245e6f887
Step 5/38 : RUN echo 'root_pwd' | passwd --stdin root
 ---> Using cache
 ---> b4ccbbd9ce29
Step 6/38 : RUN echo 'rstudio_pwd' | passwd --stdin rstudio
 ---> Using cache
 ---> 7d80a36c646a
Step 7/38 : RUN echo 'rstudio ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers
 ---> Using cache
 ---> e4be4d93f4f6
Step 8/38 : RUN yum install -y epel-release
 ---> Using cache
 ---> 5007236d8714
Step 9/38 : RUN yum install -y R
 ---> Using cache
 ---> 908d781532c4
Step 10/38 : RUN yum install -y sudo zlib-devel libffi-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel libuuid-devel xz-devel openssl libssl-dev libbz2-dev libreadline-dev libsqlite3-dev libffi-devpandoc nkf iputils net-tools iproute tree lsof traceroute psmisc bind-utils git make expect openssh-server openssh-clients gcc parallel man
 ---> Using cache
 ---> a3043a7c2b60
Step 11/38 : RUN yum install -y which perl-App-cpanminus wxGTK-devel perl-ExtUtils-Embed perl-File-HomeDir perl-Term-ReadLine-Gnu wxGTK3 cpan
 ---> Using cache
 ---> b8ddb217dcfa
Step 12/38 : RUN cd ~ && git clone https://github.com/usp-engineers-community/Open-usp-Tukubai.git && cd Open-usp-Tukubai && make -j12 install
 ---> Using cache
 ---> a193a54e752a
Step 13/38 : RUN cd ~ && curl -LO ftp://ftp.gnu.org/gnu/gawk/gawk-5.0.0.tar.gz && tar -zxvf gawk-5.0.0.tar.gz && cd gawk-5.0.0 && ./configure && make -j12 && make -j12 install
 ---> Using cache
 ---> 5da29789d47a
Step 14/38 : RUN cd ~ && curl -LO ftp://ftp.gnu.org/pub/gnu/bash/bash-5.0.tar.gz && tar -zxvf bash-5.0.tar.gz && cd bash-5.0 && ./configure && make -j12 && make -j12 install
 ---> Using cache
 ---> 18f1d7916f88
Step 15/38 : RUN yum install -y gtk2-devel atk-devel libX11-devel libXt-devel ncurses-devel && cd ~ && git clone https://github.com/vim/vim.git && cd vim && ./configure --enable-multibyte --with-features=huge --enable-cscope --enable-gui=gtk2 --disable-selinux --prefix=/usr/local --enable-xim --enable-fontset --enable-gpm --enable-rubyinterp --with-python-config-dir=/usr/lib/python2.7/config && make -j12 distclean && make -j12 && make -j12 install && ln -fsr /usr/local/bin/vim /usr/bin/vim && ln -fsr /usr/local/bin/vim /usr/bin/vi
 ---> Using cache
 ---> ec6a32a17b79
Step 16/38 : RUN git clone https://github.com/ukijumotahaneniarukenia/.vim.git ~/.vim
 ---> Using cache
 ---> 4634907207f2
Step 17/38 : RUN git clone https://github.com/ukijumotahaneniarukenia/dotfile.git ~/tmp && cd ~/tmp && mv rc/.[^.]* ~ && rm -rf ~/tmp
 ---> Using cache
 ---> c441f4681ff3
Step 18/38 : RUN mkdir -p ~/.vim/bundle && cd ~ && curl https://raw.githubusercontent.com/Shougo/dein.vim/master/bin/installer.sh > installer.sh && sh installer.sh ~/.vim/bundle
 ---> Using cache
 ---> 6407bcc34720
Step 19/38 : RUN cd ~ && curl -LO https://www.python.org/ftp/python/3.7.4/Python-3.7.4.tgz && tar -zxvf Python-3.7.4.tgz && cd Python-3.7.4 && ./configure && make -j12 && make -j12 install
 ---> Using cache
 ---> 8c3578d83670
Step 20/38 : RUN cd ~ && curl -LO https://www.cpan.org/src/5.0/perl-5.30.0.tar.gz && tar -xzf perl-5.30.0.tar.gz && cd perl-5.30.0 && ./Configure -des -Dprefix=/usr/local/ && make -j12 && make -j12 install
 ---> Using cache
 ---> c0871108f6a9
Step 21/38 : RUN cd ~ && yum install -y bzip2 && curl -LO http://ftp.gnu.org/gnu/parallel/parallel-latest.tar.bz2 && tar jxf parallel-latest.tar.bz2 && cd parallel-20190822 && ./configure && make -j12 && make -j12 install
 ---> Using cache
 ---> 72a797a9d3bc
Step 22/38 : RUN echo alias python="/usr/local/bin/python3.7" >> ~/.bashrc && echo alias pip="/usr/local/bin/pip3.7" >> ~/.bashrc && echo alias perl="/usr/local/bin/perl5.30.0" >> ~/.bashrc && echo "alias parallel=\"/usr/local/bin/parallel\"" >> ~/.bashrc
 ---> Using cache
 ---> ea87c554fc05
Step 23/38 : USER rstudio
 ---> Using cache
 ---> 8dec76050707
Step 24/38 : RUN git clone https://github.com/ukijumotahaneniarukenia/.vim.git ~/.vim
 ---> Using cache
 ---> 128e3d3acb3b
Step 25/38 : RUN git clone https://github.com/ukijumotahaneniarukenia/dotfile.git ~/tmp && cd ~/tmp && mv rc/.[^.]* ~ && rm -rf ~/tmp
 ---> Using cache
 ---> 5a96d7376192
Step 26/38 : RUN mkdir -p ~/.vim/bundle && cd ~ && curl https://raw.githubusercontent.com/Shougo/dein.vim/master/bin/installer.sh > installer.sh && sh installer.sh ~/.vim/bundle
 ---> Using cache
 ---> 950a02055e0d
Step 27/38 : RUN echo alias python="/usr/local/bin/python3.7" >> ~/.bashrc && echo alias pip="/usr/local/bin/pip3.7" >> ~/.bashrc && echo alias perl="/usr/local/bin/perl5.30.0" >> ~/.bashrc && echo "alias parallel=\"/usr/local/bin/parallel\"" >> ~/.bashrc && echo "alias vim=\"sudo vim\"" >> ~/.bashrc && echo "alias vi=\"sudo vim\"" >> ~/.bashrc
 ---> Using cache
 ---> d87a1e89c169
Step 28/38 : USER root
 ---> Using cache
 ---> ff50447d9756
Step 29/38 : RUN yum -y reinstall glibc-common
 ---> Using cache
 ---> d76493d657ab
Step 30/38 : RUN localedef -v -c -i ja_JP -f UTF-8 ja_JP.UTF-8; echo "";
 ---> Using cache
 ---> 6636373dcec3
Step 31/38 : ENV LANG=ja_JP.UTF-8
 ---> Using cache
 ---> 6d4e2f614f8f
Step 32/38 : RUN rm -f /etc/localtime
 ---> Using cache
 ---> ff4c58d189bd
Step 33/38 : RUN ln -fs /usr/share/zoneinfo/Asia/Tokyo /etc/localtime
 ---> Using cache
 ---> e83ce42085a1
Step 34/38 : RUN yum install -y initscripts
 ---> Running in dbbd8ba2700c
Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: ftp.iij.ad.jp
 * epel: nrt.edge.kernel.org
 * extras: ftp.iij.ad.jp
 * updates: ftp.iij.ad.jp
Resolving Dependencies
--> Running transaction check
---> Package initscripts.x86_64 0:9.49.47-1.el7 will be installed
--> Processing Dependency: sysvinit-tools >= 2.87-5 for package: initscripts-9.49.47-1.el7.x86_64
--> Running transaction check
---> Package sysvinit-tools.x86_64 0:2.88-14.dsf.el7 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

================================================================================
 Package               Arch          Version                  Repository   Size
================================================================================
Installing:
 initscripts           x86_64        9.49.47-1.el7            base        439 k
Installing for dependencies:
 sysvinit-tools        x86_64        2.88-14.dsf.el7          base         63 k

Transaction Summary
================================================================================
Install  1 Package (+1 Dependent package)

Total download size: 502 k
Installed size: 1.6 M
Downloading packages:
--------------------------------------------------------------------------------
Total                                              2.0 MB/s | 502 kB  00:00     
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Installing : sysvinit-tools-2.88-14.dsf.el7.x86_64                        1/2 
  Installing : initscripts-9.49.47-1.el7.x86_64                             2/2 
  Verifying  : sysvinit-tools-2.88-14.dsf.el7.x86_64                        1/2 
  Verifying  : initscripts-9.49.47-1.el7.x86_64                             2/2 

Installed:
  initscripts.x86_64 0:9.49.47-1.el7                                            

Dependency Installed:
  sysvinit-tools.x86_64 0:2.88-14.dsf.el7                                       

Complete!
Removing intermediate container dbbd8ba2700c
 ---> 3b1ab5681396
Step 35/38 : RUN yum install -y --nogpgcheck https://s3.amazonaws.com/rstudio-ide-build/server/centos6/x86_64/rstudio-server-rhel-1.2.1568-x86_64.rpm
 ---> Running in a81856e4b9f4
Loaded plugins: fastestmirror, ovl
Examining /var/tmp/yum-root-t7tAUw/rstudio-server-rhel-1.2.1568-x86_64.rpm: rstudio-server-1.2.1568-1.x86_64
Marking /var/tmp/yum-root-t7tAUw/rstudio-server-rhel-1.2.1568-x86_64.rpm to be installed
Resolving Dependencies
--> Running transaction check
---> Package rstudio-server.x86_64 0:1.2.1568-1 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

================================================================================
 Package        Arch   Version       Repository                            Size
================================================================================
Installing:
 rstudio-server x86_64 1.2.1568-1    /rstudio-server-rhel-1.2.1568-x86_64 341 M

Transaction Summary
================================================================================
Install  1 Package

Total size: 341 M
Installed size: 341 M
Downloading packages:
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Installing : rstudio-server-1.2.1568-1.x86_64                             1/1 
groupadd: group 'rstudio-server' already exists
Failed to get D-Bus connection: Operation not permitted
Starting rstudio-server: [  OK  ]
  Verifying  : rstudio-server-1.2.1568-1.x86_64                             1/1 

Installed:
  rstudio-server.x86_64 0:1.2.1568-1                                            

Complete!
Removing intermediate container a81856e4b9f4
 ---> 27f22c06b59a
Step 36/38 : EXPOSE 8787
 ---> Running in 23d49edc2a52
Removing intermediate container 23d49edc2a52
 ---> 41c8ccedcab9
Step 37/38 : EXPOSE 22
 ---> Running in 6510ad0aef9f
Removing intermediate container 6510ad0aef9f
 ---> 73d969ed3bd4
Step 38/38 : CMD ["/sbin/init"]
 ---> Running in fefd453ff3fc
Removing intermediate container fefd453ff3fc
 ---> 7c0e2ca897b8
Successfully built 7c0e2ca897b8
Successfully tagged centos_rstudio:latest
