Sending build context to Docker daemon  79.57MB
Step 1/66 : FROM centos:7.6.1810
 ---> f1cb7c7d58b7
Step 2/66 : RUN groupadd -g 1001 rstudio
 ---> Using cache
 ---> 20fed5522b31
Step 3/66 : RUN useradd -m -g rstudio -u 1001 rstudio
 ---> Using cache
 ---> f51e10dcf127
Step 4/66 : RUN chsh -s /bin/bash rstudio
 ---> Using cache
 ---> 5c6a78b4cc12
Step 5/66 : RUN groupadd -g 1002 php
 ---> Using cache
 ---> f439bbe35999
Step 6/66 : RUN useradd -m -g php -u 1002 php
 ---> Using cache
 ---> 50f8a387152d
Step 7/66 : RUN chsh -s /bin/bash php
 ---> Using cache
 ---> d9151305d901
Step 8/66 : RUN echo 'root_pwd' | passwd --stdin root
 ---> Using cache
 ---> 877d0c41e0ba
Step 9/66 : RUN echo 'rstudio_pwd' | passwd --stdin rstudio
 ---> Using cache
 ---> 02c6a794f03a
Step 10/66 : RUN echo 'rstudio ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers
 ---> Using cache
 ---> e4a673932cbe
Step 11/66 : RUN echo 'php_pwd' | passwd --stdin php
 ---> Using cache
 ---> 7604e24c531e
Step 12/66 : RUN echo 'php ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers
 ---> Using cache
 ---> a1ad1bd34a0c
Step 13/66 : RUN yum install -y epel-release
 ---> Using cache
 ---> b1c2fdae6cb6
Step 14/66 : RUN yum install -y R
 ---> Using cache
 ---> 4200e2175144
Step 15/66 : RUN yum install -y sudo zlib-devel libffi-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel libuuid-devel xz-devel openssl libssl-dev libbz2-dev libreadline-dev libsqlite3-dev libffi-devpandoc nkf iputils net-tools iproute tree lsof traceroute psmisc bind-utils git make expect openssh-server openssh-clients gcc parallel man file
 ---> Using cache
 ---> 30e94fba71c8
Step 16/66 : RUN yum install -y which perl-App-cpanminus wxGTK-devel perl-ExtUtils-Embed perl-File-HomeDir perl-Term-ReadLine-Gnu wxGTK3 cpan
 ---> Using cache
 ---> 9dd9cb629831
Step 17/66 : RUN cd ~ && git clone https://github.com/usp-engineers-community/Open-usp-Tukubai.git && cd Open-usp-Tukubai && make -j12 install
 ---> Using cache
 ---> f5196258b71d
Step 18/66 : RUN cd ~ && curl -LO ftp://ftp.gnu.org/gnu/gawk/gawk-5.0.0.tar.gz && tar -zxvf gawk-5.0.0.tar.gz && cd gawk-5.0.0 && ./configure && make -j12 && make -j12 install
 ---> Using cache
 ---> 7a9c1065dae7
Step 19/66 : RUN cd ~ && curl -LO ftp://ftp.gnu.org/pub/gnu/bash/bash-5.0.tar.gz && tar -zxvf bash-5.0.tar.gz && cd bash-5.0 && ./configure && make -j12 && make -j12 install
 ---> Using cache
 ---> c5fac9484bda
Step 20/66 : RUN yum install -y gtk2-devel atk-devel libX11-devel libXt-devel ncurses-devel && cd ~ && git clone https://github.com/vim/vim.git && cd vim && ./configure --enable-multibyte --with-features=huge --enable-cscope --enable-gui=gtk2 --disable-selinux --prefix=/usr/local --enable-xim --enable-fontset --enable-gpm --enable-rubyinterp --with-python-config-dir=/usr/lib/python2.7/config && make -j12 distclean && make -j12 && make -j12 install && ln -fsr /usr/local/bin/vim /usr/bin/vim && ln -fsr /usr/local/bin/vim /usr/bin/vi
 ---> Using cache
 ---> f9cb2218e5e6
Step 21/66 : RUN git clone https://github.com/ukijumotahaneniarukenia/.vim.git ~/.vim
 ---> Using cache
 ---> 7eeae206e044
Step 22/66 : RUN git clone https://github.com/ukijumotahaneniarukenia/dotfile.git ~/tmp && cd ~/tmp && mv rc/.[^.]* ~ && rm -rf ~/tmp
 ---> Using cache
 ---> 4cc0d4c6c895
Step 23/66 : RUN mkdir -p ~/.vim/bundle && cd ~ && curl https://raw.githubusercontent.com/Shougo/dein.vim/master/bin/installer.sh > installer.sh && sh installer.sh ~/.vim/bundle && rm -rf installer.sh
 ---> Using cache
 ---> 7fbf1c4622d0
Step 24/66 : RUN cd ~ && curl -LO https://www.python.org/ftp/python/3.7.4/Python-3.7.4.tgz && tar -zxvf Python-3.7.4.tgz && cd Python-3.7.4 && ./configure && make -j12 && make -j12 install
 ---> Using cache
 ---> 79b4f5e3fd6d
Step 25/66 : RUN cd ~ && curl -LO https://www.cpan.org/src/5.0/perl-5.30.0.tar.gz && tar -xzf perl-5.30.0.tar.gz && cd perl-5.30.0 && ./Configure -des -Dprefix=/usr/local/ && make -j12 && make -j12 install
 ---> Using cache
 ---> 52175b9f041e
Step 26/66 : RUN cd ~ && yum install -y bzip2 && curl -LO http://ftp.gnu.org/gnu/parallel/parallel-latest.tar.bz2 && tar jxf parallel-latest.tar.bz2 && cd parallel-20190922 && ./configure && make -j12 && make -j12 install
 ---> Using cache
 ---> 11b13f517faf
Step 27/66 : RUN echo alias python="/usr/local/bin/python3.7" >> ~/.bashrc && echo alias pip="/usr/local/bin/pip3.7" >> ~/.bashrc && echo alias perl="/usr/local/bin/perl5.30.0" >> ~/.bashrc && echo "alias parallel=\"/usr/local/bin/parallel\"" >> ~/.bashrc && echo "export GTK_IM_MODULE=ibus" >> ~/.bashrc && echo "export XMODIFIERS=@im=ibus" >> ~/.bashrc && echo "export QT_IM_MODULE=ibus" >> ~/.bashrc && echo "export DefalutIMModule=ibus" >> ~/.bashrc && echo "export NO_AT_BRIDGE=1" >> ~/.bashrc && echo "xset -r 49" >> ~/.bashrc && echo "ibus-daemon -dxr" >> ~/.bashrc && echo "xrdb ~/.Xresources" >> ~/.bashrc
 ---> Using cache
 ---> af80464adeee
Step 28/66 : USER rstudio
 ---> Using cache
 ---> b20cd43b0927
Step 29/66 : RUN git clone https://github.com/ukijumotahaneniarukenia/.vim.git ~/.vim
 ---> Using cache
 ---> 1db5514b6024
Step 30/66 : RUN git clone https://github.com/ukijumotahaneniarukenia/dotfile.git ~/tmp && cd ~/tmp && mv rc/.[^.]* ~ && rm -rf ~/tmp
 ---> Using cache
 ---> a7b39c2e3dcb
Step 31/66 : RUN mkdir -p ~/.vim/bundle && cd ~ && curl https://raw.githubusercontent.com/Shougo/dein.vim/master/bin/installer.sh > installer.sh && sh installer.sh ~/.vim/bundle && rm -rf installer.sh
 ---> Using cache
 ---> 19c316af24af
Step 32/66 : RUN echo alias python="/usr/local/bin/python3.7" >> ~/.bashrc && echo alias pip="/usr/local/bin/pip3.7" >> ~/.bashrc && echo alias perl="/usr/local/bin/perl5.30.0" >> ~/.bashrc && echo "alias parallel=\"/usr/local/bin/parallel\"" >> ~/.bashrc && echo "alias vim=\"sudo vim\"" >> ~/.bashrc && echo "alias vi=\"sudo vim\"" >> ~/.bashrc && echo "export GTK_IM_MODULE=ibus" >> ~/.bashrc && echo "export XMODIFIERS=@im=ibus" >> ~/.bashrc && echo "export QT_IM_MODULE=ibus" >> ~/.bashrc && echo "export DefalutIMModule=ibus" >> ~/.bashrc && echo "export NO_AT_BRIDGE=1" >> ~/.bashrc && echo "xset -r 49" >> ~/.bashrc && echo "ibus-daemon -dxr" >> ~/.bashrc && echo "xrdb ~/.Xresources" >> ~/.bashrc
 ---> Using cache
 ---> 8ab0e6ae846f
Step 33/66 : USER php
 ---> Using cache
 ---> fed7ec382085
Step 34/66 : RUN git clone https://github.com/ukijumotahaneniarukenia/.vim.git ~/.vim
 ---> Using cache
 ---> 141a81d48ae5
Step 35/66 : RUN git clone https://github.com/ukijumotahaneniarukenia/dotfile.git ~/tmp && cd ~/tmp && mv rc/.[^.]* ~ && rm -rf ~/tmp
 ---> Using cache
 ---> 99d936068a64
Step 36/66 : RUN mkdir -p ~/.vim/bundle && cd ~ && curl https://raw.githubusercontent.com/Shougo/dein.vim/master/bin/installer.sh > installer.sh && sh installer.sh ~/.vim/bundle && rm -rf installer.sh
 ---> Using cache
 ---> 1d1bda506c30
Step 37/66 : RUN echo alias python="/usr/local/bin/python3.7" >> ~/.bashrc && echo alias pip="/usr/local/bin/pip3.7" >> ~/.bashrc && echo alias perl="/usr/local/bin/perl5.30.0" >> ~/.bashrc && echo "alias parallel=\"/usr/local/bin/parallel\"" >> ~/.bashrc && echo "alias vim=\"sudo vim\"" >> ~/.bashrc && echo "alias vi=\"sudo vim\"" >> ~/.bashrc && echo "export PATH=/home/php/Komodo-Edit-11/bin:$PATH" >> ~/.bashrc && echo "alias komodo=\"komodo > ~/launch_komodo.log 2>&1 &\"" >> ~/.bashrc && echo "export GTK_IM_MODULE=ibus" >> ~/.bashrc && echo "export XMODIFIERS=@im=ibus" >> ~/.bashrc && echo "export QT_IM_MODULE=ibus" >> ~/.bashrc && echo "export DefalutIMModule=ibus" >> ~/.bashrc && echo "export NO_AT_BRIDGE=1" >> ~/.bashrc && echo "xset -r 49" >> ~/.bashrc && echo "ibus-daemon -dxr" >> ~/.bashrc && echo "xrdb ~/.Xresources" >> ~/.bashrc
 ---> Using cache
 ---> 76ae583bd488
Step 38/66 : COPY Komodo-Edit-11.1.1-18206-linux-x86_64.tar.gz /home/php/Komodo-Edit-11.1.1-18206-linux-x86_64.tar.gz
 ---> Using cache
 ---> 117c6e9111db
Step 39/66 : RUN cd ~ && tar -xzf Komodo-Edit-11.1.1-18206-linux-x86_64.tar.gz
 ---> Using cache
 ---> 448106f586ab
Step 40/66 : RUN sudo yum -y install http://rpms.famillecollet.com/enterprise/remi-release-7.rpm &&  sudo yum -y install --enablerepo=remi,remi-php73 php php-devel php-mbstring php-pdo php-gd php-xml php-mcrypt
 ---> Using cache
 ---> d3687c1993b7
Step 41/66 : USER root
 ---> Using cache
 ---> 483b37b87e08
Step 42/66 : RUN yum install -y xeyes xorg-x11-server-utils xterm xorg-x11-apps
 ---> Using cache
 ---> e2cfc9cebe62
Step 43/66 : RUN yum install -y java firefox
 ---> Using cache
 ---> 4e7bd23b6b95
Step 44/66 : RUN yum -y groupinstall "X Window System"
 ---> Using cache
 ---> 3a2225765423
Step 45/66 : RUN yum install -y PackageKit-gtk3-module
 ---> Using cache
 ---> 41956cd25989
Step 46/66 : RUN yum install -y vlgothic-*
 ---> Using cache
 ---> 4fb223ae14d7
Step 47/66 : RUN yum install -y PackageKit-gtk3-module
 ---> Using cache
 ---> 70cfd0b301ea
Step 48/66 : RUN yum install -y fcitx ibus
 ---> Using cache
 ---> e5c373d7b71e
Step 49/66 : RUN yum groupinstall -y "Input Methods"
 ---> Using cache
 ---> 2995316c7ccb
Step 50/66 : RUN yum install -y glibc-common
 ---> Using cache
 ---> ef9efb95deb3
Step 51/66 : RUN yum reinstall -y glibc-common
 ---> Using cache
 ---> 6becee0a80cf
Step 52/66 : RUN localedef -v -c -i ja_JP -f UTF-8 ja_JP.UTF-8; echo "";
 ---> Using cache
 ---> 2fc6db1cdf07
Step 53/66 : ENV LANG=ja_JP.UTF-8
 ---> Using cache
 ---> 503467096427
Step 54/66 : RUN rm -f /etc/localtime
 ---> Using cache
 ---> 9464cbd3b5d2
Step 55/66 : RUN ln -fs /usr/share/zoneinfo/Asia/Tokyo /etc/localtime
 ---> Using cache
 ---> 8de662cddd19
Step 56/66 : RUN yum -y install man
 ---> Using cache
 ---> db8678c81ed2
Step 57/66 : RUN yum -y install man-pages.noarch
 ---> Using cache
 ---> 32dad4d3b521
Step 58/66 : RUN yum -y install man-pages-ja.noarch
 ---> Using cache
 ---> 97c783e77162
Step 59/66 : RUN yum --setopt=tsflags='' reinstall -y man-pages
 ---> Using cache
 ---> a32256a83af9
Step 60/66 : RUN mkdir -p /usr/share/fonts/emoji && cd /usr/share/fonts/emoji && curl -LO https://noto-website-2.storage.googleapis.com/pkgs/Noto-unhinted.zip && unzip Noto-unhinted.zip && rm Noto-unhinted.zip && fc-cache -f -v
 ---> Using cache
 ---> 2857ba793b34
Step 61/66 : RUN yum install -y ibus-mozc
 ---> Running in c20c6ff58225
Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: ftp.iij.ad.jp
 * epel: ftp.riken.jp
 * extras: ftp.iij.ad.jp
 * remi-safe: ftp.riken.jp
 * updates: ftp.iij.ad.jp
Resolving Dependencies
--> Running transaction check
---> Package ibus-mozc.x86_64 0:2.17.2322.102-1.el7 will be installed
--> Processing Dependency: mozc(x86-64) = 2.17.2322.102-1.el7 for package: ibus-mozc-2.17.2322.102-1.el7.x86_64
--> Processing Dependency: libprotobuf.so.8()(64bit) for package: ibus-mozc-2.17.2322.102-1.el7.x86_64
--> Running transaction check
---> Package mozc.x86_64 0:2.17.2322.102-1.el7 will be installed
--> Processing Dependency: xemacs-filesystem >= 21.5 for package: mozc-2.17.2322.102-1.el7.x86_64
--> Processing Dependency: zinnia-tomoe-ja for package: mozc-2.17.2322.102-1.el7.x86_64
--> Processing Dependency: libzinnia.so.0()(64bit) for package: mozc-2.17.2322.102-1.el7.x86_64
---> Package protobuf.x86_64 0:2.5.0-8.el7 will be installed
--> Running transaction check
---> Package xemacs-filesystem.noarch 0:21.5.34-8.20140605hgacf1c26e3019.el7 will be installed
---> Package zinnia.x86_64 0:0.06-22.el7 will be installed
---> Package zinnia-tomoe-ja.x86_64 0:0.06-22.el7 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

================================================================================
 Package            Arch    Version                                 Repository
                                                                           Size
================================================================================
Installing:
 ibus-mozc          x86_64  2.17.2322.102-1.el7                     epel  420 k
Installing for dependencies:
 mozc               x86_64  2.17.2322.102-1.el7                     epel   16 M
 protobuf           x86_64  2.5.0-8.el7                             base  338 k
 xemacs-filesystem  noarch  21.5.34-8.20140605hgacf1c26e3019.el7    epel   16 k
 zinnia             x86_64  0.06-22.el7                             epel   64 k
 zinnia-tomoe-ja    x86_64  0.06-22.el7                             epel   12 M

Transaction Summary
================================================================================
Install  1 Package (+5 Dependent packages)

Total download size: 29 M
Installed size: 56 M
Downloading packages:
--------------------------------------------------------------------------------
Total                                               13 MB/s |  29 MB  00:02     
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Installing : zinnia-0.06-22.el7.x86_64                                    1/6 
  Installing : protobuf-2.5.0-8.el7.x86_64                                  2/6 
  Installing : zinnia-tomoe-ja-0.06-22.el7.x86_64                           3/6 
  Installing : xemacs-filesystem-21.5.34-8.20140605hgacf1c26e3019.el7.noa   4/6 
  Installing : mozc-2.17.2322.102-1.el7.x86_64                              5/6 
  Installing : ibus-mozc-2.17.2322.102-1.el7.x86_64                         6/6 
  Verifying  : protobuf-2.5.0-8.el7.x86_64                                  1/6 
  Verifying  : ibus-mozc-2.17.2322.102-1.el7.x86_64                         2/6 
  Verifying  : zinnia-0.06-22.el7.x86_64                                    3/6 
  Verifying  : xemacs-filesystem-21.5.34-8.20140605hgacf1c26e3019.el7.noa   4/6 
  Verifying  : zinnia-tomoe-ja-0.06-22.el7.x86_64                           5/6 
  Verifying  : mozc-2.17.2322.102-1.el7.x86_64                              6/6 

Installed:
  ibus-mozc.x86_64 0:2.17.2322.102-1.el7                                        

Dependency Installed:
  mozc.x86_64 0:2.17.2322.102-1.el7                                             
  protobuf.x86_64 0:2.5.0-8.el7                                                 
  xemacs-filesystem.noarch 0:21.5.34-8.20140605hgacf1c26e3019.el7               
  zinnia.x86_64 0:0.06-22.el7                                                   
  zinnia-tomoe-ja.x86_64 0:0.06-22.el7                                          

Complete!
Removing intermediate container c20c6ff58225
 ---> cf3a99a38c70
Step 62/66 : EXPOSE 22
 ---> Running in 8e7e269fa71a
Removing intermediate container 8e7e269fa71a
 ---> 5cfdee00713d
Step 63/66 : EXPOSE 8787
 ---> Running in 02216a0fca70
Removing intermediate container 02216a0fca70
 ---> 35c6a9b4133c
Step 64/66 : ENV DISPLAY=:0.0
 ---> Running in f5dafede72c6
Removing intermediate container f5dafede72c6
 ---> f26cc7d3b609
Step 65/66 : USER php
 ---> Running in 65464bcc5f78
Removing intermediate container 65464bcc5f78
 ---> 7ead88285dc2
Step 66/66 : WORKDIR /home/php
 ---> Running in 3b4b5e4ba24a
Removing intermediate container 3b4b5e4ba24a
 ---> 7e3f01ea2fca
Successfully built 7e3f01ea2fca
Successfully tagged centos_php:latest
